(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],p=0,f=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/search/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02fa":function(t,e,a){},"04e5":function(t,e,a){"use strict";a("1b50")},"08f5":function(t,e,a){"use strict";a("be60")},"1b50":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("dbbe"),r=a("d435"),i=a("13ce"),o=a("b519"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"d-flex flex-column h-100",attrs:{id:"app"}},[a("Header"),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("section",{staticClass:"box mb-5"},[a("Search")],1),a("section",{staticClass:"box"},[a("Package")],1)])])]),a("Footer")],1)},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-input-search"},[a("div",{staticClass:"input-group input-group-lg mx-auto position-relative"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("svg",{staticClass:"bi bi-search",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}})])])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",attrs:{type:"text",placeholder:"search all of npm"},domProps:{value:t.message},on:{keyup:t.searchResult,input:function(e){e.target.composing||(t.message=e.target.value)}}}),t.loading?a("span",{staticClass:"search-loader d-flex align-items-center justify-content-center"},[a("b-spinner",{attrs:{type:"grow",label:"Spinning"}})],1):t._e()])])},p=[],f=(a("ac1f"),a("841c"),{name:"Search",computed:{loading:function(){return this.$store.getters.loading},message:{get:function(){return this.$store.state.search.text},set:function(t){this.$store.commit("search/SET_TEXT",t)}}},methods:{searchResult:function(){var t=this;this.$nextTick((function(){t.$store.dispatch("search/resetPagination"),t.$store.dispatch("search/searchPackage")}))}}}),d=f,m=(a("e1ef"),a("2877")),h=Object(m["a"])(d,u,p,!1,null,"b4be18a8",null),g=h.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.items.length?a("div",{staticClass:"box-package my-3 p-3 bg-white rounded shadow-sm"},[a("h6",{staticClass:"border-bottom pb-2 mb-0"},[t._v("Real-time search")]),a("b-overlay",{attrs:{show:t.loading,rounded:"sm"}},[t._l(t.items,(function(e,n){return a("PackageItem",{key:n,attrs:{item:e},on:{modalDescription:t.onChangeDescription}})})),a("div",{staticClass:"d-block box-pagination mt-3"},[a("b-pagination",{attrs:{align:"right","total-rows":t.total,"per-page":t.size},on:{change:t.searchResult},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}})],1)],2),a("b-modal",{attrs:{"hide-footer":"",title:"Description"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("p",{domProps:{innerHTML:t._s(t.description)}})])],1):t._e()},v=[],_=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex text-muted pt-3"},[a("div",{staticClass:"pb-3 mb-0 small lh-sm border-bottom w-100"},[a("div",{staticClass:"d-flex"},[a("div",[a("a",{staticClass:"text-dark",attrs:{target:"_blank",href:t.item.package.links.npm}},[a("strong",{staticClass:"text-gray-dark"},[t._v(t._s(t.item.package.name))])]),t.item.package.author?a("a",{staticClass:"d-block",attrs:{target:"_blank",href:t.item.package.links.repository}},[t._v(" "+t._s(t.item.package.author.name)+" ")]):t._e()]),a("a",{staticClass:"ml-auto",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onChangeDescription(t.item.package.description)}}},[t._v("description")])])])])}),x=[],w={name:"PackageItem",props:{item:{default:{}}},methods:{onChangeDescription:function(t){this.$emit("modalDescription",t)}}},k=w,C=Object(m["a"])(k,_,x,!1,null,"90bc4768",null),T=C.exports,y={name:"Package",components:{PackageItem:T},data:function(){return{showModal:!1,description:""}},computed:{items:function(){return this.$store.getters.items},total:function(){return this.$store.getters.total},size:function(){return this.$store.getters.size},loading:function(){return this.$store.getters.loading},from:{get:function(){return this.$store.state.search.pagination.from},set:function(t){this.$store.commit("search/SET_FROM",t)}}},methods:{searchResult:function(){var t=this;this.$nextTick((function(){t.$store.dispatch("search/searchPackage")}))},onChangeDescription:function(t){this.description=t,this.showModal=!0}}},O=y,S=Object(m["a"])(O,b,v,!1,null,"4241036b",null),E=S.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"d-flex align-items-center mb-5 text-white bg-purple shadow-sm"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 py-3"},[a("div",{staticClass:"lh-1"},[a("h1",{staticClass:"h6 mb-0 text-white lh-1"},[t._v("Search")]),a("small",[t._v("all of npm")])])])])])])}],j={name:"Header"},M=j,z=(a("08f5"),Object(m["a"])(M,P,$,!1,null,"784a2da2",null)),R=z.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"text-muted shadow-sm mt-auto"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 py-3 d-flex align-items-start"},[t._m(0),a("svg",{staticClass:"bd-placeholder-img rounded ml-auto",attrs:{width:"100",height:"100",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Placeholder: 100x100",preserveAspectRatio:"xMidYMid slice",focusable:"false"}},[a("title",[t._v("Placeholder")]),a("rect",{attrs:{width:"100%",height:"100%",fill:"#ffffff"}})])])])])])},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"bd-footer-links list-unstyled p-0 mb-3"},[a("li",[a("a",{attrs:{target:"_blank",href:"https://github.com/romankosjk"}},[t._v("GitHub")])])]),a("p",{staticClass:"mb-0"},[t._v("Косяк Роман.")])])}],A={name:"Footer"},L=A,F=(a("04e5"),Object(m["a"])(L,D,I,!1,null,"66898fba",null)),H=F.exports,G={name:"App",components:{Search:g,Package:E,Header:R,Footer:H}},N=G,J=Object(m["a"])(N,c,l,!1,null,null,null),X=J.exports,B=a("2f62"),U={items:function(t){return t.search.items},size:function(t){return t.search.pagination.size},total:function(t){return t.search.total},loading:function(t){return t.search.loading}},Y=U,Z=a("5530"),q=a("1da1"),K=(a("96cf"),a("bc3a")),Q=a.n(K),V=(a("d3b7"),Q.a.create({baseURL:"https://registry.npmjs.org",timeout:5e3}));V.interceptors.response.use((function(t){return t.data}),(function(t){return t.message?(console.log("err".concat(t)),Promise.reject(t)):Promise.reject()}));var W=V,tt=null,et=Q.a.CancelToken;function at(t){return tt&&tt(),W({url:"/-/v1/search",method:"get",params:t,cancelToken:new et((function(t){tt=t}))})}var nt=function(){return{items:[],text:"",total:0,loading:!1,pagination:{size:10,from:1}}},st=nt(),rt={SET_TEXT:function(t,e){t.text=e},SET_SIZE:function(t,e){t.pagination.size=e},SET_FROM:function(t,e){t.pagination.from=e},SET_ITEMS:function(t,e){t.items=e},SET_TOTAL:function(t,e){t.total=e},SET_LOADING:function(t,e){t.loading=e}},it={searchPackage:function(t){return Object(q["a"])(regeneratorRuntime.mark((function e(){var a,n,s,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.state,e.prev=1,a("SET_LOADING",!0),s={size:n.pagination.size,from:(n.pagination.from-1)*n.pagination.size},e.next=6,at(Object(Z["a"])({text:n.text},s));case 6:r=e.sent,i=r.objects,o=r.total,a("SET_ITEMS",i),a("SET_TOTAL",o),a("SET_LOADING",!1),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](1);case 16:case"end":return e.stop()}}),e,null,[[1,14]])})))()},resetPagination:function(t){var e=t.commit;e("SET_FROM",1)}},ot={namespaced:!0,state:st,mutations:rt,actions:it};n["a"].use(B["a"]);var ct=new B["a"].Store({modules:{search:ot},getters:Y}),lt=ct;a("c1c3");n["a"].use(s["a"]),n["a"].use(r["a"]),n["a"].use(i["a"]),n["a"].use(o["a"]),n["a"].config.productionTip=!1,new n["a"]({store:lt,render:function(t){return t(X)}}).$mount("#app")},be60:function(t,e,a){},c1c3:function(t,e,a){},e1ef:function(t,e,a){"use strict";a("02fa")}});
//# sourceMappingURL=app.d9b5cbd5.js.map